// Author : Jean-Baptiste PERIN
// Date : 2021
//
// Build with OSDK: osdk_build.bat && osdk_execute.bat
//
// Save wm $9C00 896 altchar.bin
// Save wm $bf68 120 botpan.bin

#undef DEBUG

#include "lib.h"
#include "config.h"


void waitkey () {
    // sprintf (0xBF70, "Press a key ...");
    get();
}

#define LORES_SCREEN_ADDRESS 0xBB80
// #define HIRES_SCREEN_ADDRESS 0xA000

#define LORES_SCREEN_WIDTH 40
#define LORES_SCREEN_HEIGHT 26

#define HIRES_SCREEN_WIDTH 240
#define HIRES_SCREEN_HEIGHT 200


#define INK_BLACK	0
#define INK_RED		1
#define INK_GREEN	2
#define INK_YELLOW	3
#define INK_BLUE	4
#define INK_MAGENTA	5
#define INK_CYAN	6
#define INK_WHITE	7

// Character Set modifier	
#define STANDARD_CHARSET 8 //		Use Standard Charset	
#define ALTERNATE_CHARSET 9 //		Use Alternate Charset	
#define DOUBLE_STANDARD_CHARSET  10	//	Use Double Size Standard Charset	
#define DOUBLE_ALTERNATE_CHARSET 11 //		Use Double Size Alternate Charset	
#define BLINKING_STANDARD_CHARSET 12 //		Use Blinking Standard Charset	
#define BLINKING_ALTERNATE_CHARSET 13 //		Use Blinking Alternate Charset	
#define DOUBLE_BLINK_STANDARD_CHARSET 14	//	Use Double Size Blinking Standard Charset	
#define DOUBLE_BLINK_ALTERNATE_CHARSET 15	//	Use Double Size Blinking Alternate Charset

// Change Paper (background) color	
#define PAPER_BLACK	16
#define PAPER_RED	17
#define PAPER_GREEN	18
#define PAPER_YELLOW	19
#define PAPER_BLUE	20
#define PAPER_MAGENTA	21
#define PAPER_CYAN	22
#define PAPER_WHITE	23

// Video control attributes	
#define TEXT_60Hz	24
#define TEXT_50Hz	26
#define HIRES_60Hz	28
#define HIRES_50Hz	30

void change_char(char c, unsigned char patt01, unsigned char patt02, unsigned char patt03, unsigned char patt04, unsigned char patt05, unsigned char patt06, unsigned char patt07, unsigned char patt08) {
    unsigned char* adr;
    adr      = (unsigned char*)(0x9C00 + c * 8);
    *(adr++) = patt01;
    *(adr++) = patt02;
    *(adr++) = patt03;
    *(adr++) = patt04;
    *(adr++) = patt05;
    *(adr++) = patt06;
    *(adr++) = patt07;
    *(adr++) = patt08;
}


void bottom_panel_old() {

        int ii, jj;

        // *((unsigned char *)0x26A)= 10;

    // *((unsigned char *)48960)= 0x14;
		// for (jj = 0; jj < 8; jj++) {
		// 	// poke (HIRES_SCREEN_ADDRESS+((ii*8+jj)*LORES_SCREEN_WIDTH)+1, tab_color[jj]);
		// 	poke (HIRES_SCREEN_ADDRESS+((ii*8+jj)*LORES_SCREEN_WIDTH)+2, TEXT_50Hz);
		// }


// premiere ligne
change_char(33 , 0x3f, 0x0, 0x21, 0x22, 0x23, 0x22, 0x3b, 0x3b);
change_char(34 , 0x3f, 0x0, 0x34, 0x4, 0x24, 0x4, 0x33, 0x33);
change_char(35 , 0x2e, 0x0, 0x27, 0x28, 0x2e, 0x28, 0xf, 0xf);
change_char(36 , 0x1a, 0x0, 0x10, 0x10, 0x10, 0x10, 0x1c, 0x1c);
change_char(37 , 0x3f, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20);
change_char(38 , 0x3f, 0x0, 0x3, 0x6, 0x3, 0x1, 0x4, 0x7);
change_char(39 , 0x3f, 0x0, 0x27, 0x9, 0x8, 0x2b, 0x2f, 0x27);
change_char(40 , 0x3f, 0x0, 0xc, 0x16, 0x16, 0x16, 0x16, 0xc);
change_char(41 , 0x3f, 0x0, 0x18, 0x25, 0x25, 0x39, 0x35, 0x35);
change_char(42 , 0x2e, 0x0, 0x38, 0x0, 0x30, 0x0, 0x38, 0x38);
change_char(43 , 0x1a, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0);
change_char(44 , 0x3f, 0x20, 0x28, 0x28, 0x28, 0x28, 0x2e, 0x2e);
change_char(45 , 0x3f, 0x0, 0x34, 0x34, 0x34, 0x34, 0x33, 0x33);
change_char(46 , 0x36, 0x0, 0x27, 0x28, 0x2e, 0x28, 0xf, 0xf);
change_char(47 , 0x1a, 0x0, 0xe, 0x18, 0xc, 0x6, 0x12, 0x1e);
change_char(48 , 0x3f, 0x20, 0x20, 0x20, 0x21, 0x21, 0x21, 0x21);
change_char(49 , 0x3f, 0x0, 0x1f, 0x2f, 0x1f, 0x1f, 0x3f, 0x30);
change_char(50 , 0x36, 0x0, 0x3f, 0x37, 0x1b, 0x2e, 0x33, 0x1f);
change_char(51 , 0x1a, 0x0, 0x30, 0x38, 0x38, 0x38, 0x38, 0x10);
change_char(52 , 0x3f, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20);
change_char(53 , 0x3f, 0x0, 0x34, 0x35, 0x35, 0x3d, 0x35, 0x35);
change_char(54 , 0x3f, 0x0, 0x31, 0x23, 0x23, 0x32, 0x27, 0x36);
change_char(55 , 0x3f, 0x0, 0x25, 0x24, 0x24, 0x24, 0x34, 0x37);
change_char(56 , 0x3e, 0x0, 0x3d, 0x19, 0x11, 0x11, 0x11, 0x11);
change_char(57 , 0x1a, 0x0, 0x18, 0x18, 0x18, 0x38, 0x18, 0x18);
change_char(58 , 0x3f, 0x20, 0x21, 0x23, 0x23, 0x22, 0x27, 0x26);
change_char(59 , 0x3f, 0x0, 0x27, 0x27, 0x27, 0x27, 0x36, 0x36);
change_char(60 , 0x3f, 0x0, 0x3f, 0x3f, 0x3f, 0x3f, 0x3b, 0x3a);
change_char(61 , 0x3f, 0x0, 0x26, 0x2f, 0x2f, 0x2f, 0x2f, 0x2f);
change_char(62 , 0x3f, 0x2, 0x2, 0x3, 0x3, 0x3, 0x0, 0x0);
change_char(63 , 0x3f, 0x0, 0x30, 0x3c, 0x3c, 0x3c, 0x38, 0x30);
change_char(64 , 0x3f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0);
change_char(65 , 0x3f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0);
change_char(66 , 0x3f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0);
change_char(67 , 0x3f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0);
change_char(68 , 0x3f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0);
change_char(69 , 0x3f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0);
// bas
change_char(70 , 0x21, 0x21, 0x22, 0x22, 0x22, 0x22, 0x21, 0x0);
change_char(71 , 0x20, 0x2f, 0x20, 0x26, 0x24, 0x20, 0x21, 0x20);
change_char(72 , 0x0, 0xf, 0x30, 0x6, 0x4, 0x0, 0x8, 0x30);
change_char(73 , 0x10, 0x18, 0x14, 0x14, 0x14, 0x14, 0x18, 0x10);
change_char(74 , 0x20, 0x20, 0x20, 0x0, 0x0, 0x20, 0x0, 0x20);
change_char(75 , 0x20, 0x27, 0x20, 0x10, 0xc, 0x3, 0x0, 0x0);
change_char(76 , 0x0, 0x3e, 0x0, 0x0, 0x3, 0x3c, 0x0, 0x0);
change_char(77 , 0x10, 0x10, 0x10, 0x30, 0x20, 0x0, 0x0, 0x0);

// gun
// gun
// gun
change_char(78 , 0x3f, 0x0, 0x3f, 0x3f, 0x0, 0x3f, 0x0, 0x0);
change_char(79 , 0x3f, 0x33, 0x3f, 0x3f, 0x33, 0x3f, 0x33, 0x1);
change_char(80 , 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f);
change_char(81 , 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3c, 0x0);
change_char(82 , 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0xf, 0xf);
change_char(83 , 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0);
change_char(84 , 0x1, 0x1, 0x1, 0x3, 0x3, 0x0, 0x0, 0x0);
change_char(85 , 0x3f, 0x3e, 0x3e, 0x3e, 0x3e, 0x0, 0x0, 0x0);
change_char(86 , 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0);
change_char(87 , 0xf, 0x7, 0x7, 0x7, 0x7, 0x0, 0x0, 0x0);


// colonne 1
change_char(88 , 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0);
change_char(89 , 0x20, 0x20, 0x20, 0x0, 0x0, 0x20, 0x0, 0x20);
// colonne 2
change_char(90 , 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0);
change_char(91 , 0x20, 0x20, 0x20, 0x0, 0x0, 0x20, 0x0, 0x20);
// colonne 3
change_char(92 , 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0);
change_char(93 , 0x20, 0x20, 0x0, 0x0, 0x20, 0x20, 0x0, 0x20);
// colonne 4
change_char(94 , 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20);
change_char(95 , 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20);

    // sprintf (0xBF70, "Press a key ...");

    *((unsigned char *)0xbf68+0*40+0)= PAPER_BLUE;
    *((unsigned char *)0xbf68+1*40+0)= PAPER_BLUE;
    *((unsigned char *)0xbf68+2*40+0)= PAPER_BLUE;
    *((unsigned char *)0xbf68+0*40+1)= INK_WHITE;
    *((unsigned char *)0xbf68+1*40+1)= INK_WHITE;
    *((unsigned char *)0xbf68+2*40+1)= INK_WHITE;
    *((unsigned char *)0xbf68+0*40+2)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+1*40+2)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+2*40+2)= ALTERNATE_CHARSET;
*((unsigned char *)0xbf68+0*40+3)= 33;
*((unsigned char *)0xbf68+0*40+4)= 34;
*((unsigned char *)0xbf68+0*40+5)= 35;
*((unsigned char *)0xbf68+0*40+6)= 36;
*((unsigned char *)0xbf68+0*40+7)= 37;
*((unsigned char *)0xbf68+0*40+8)= 38;
*((unsigned char *)0xbf68+0*40+9)= 39;
*((unsigned char *)0xbf68+0*40+10)= 40;
*((unsigned char *)0xbf68+0*40+11)= 41;
*((unsigned char *)0xbf68+0*40+12)= 42;
*((unsigned char *)0xbf68+0*40+13)= 43;
*((unsigned char *)0xbf68+0*40+14)= 44;
*((unsigned char *)0xbf68+0*40+15)= 45;
*((unsigned char *)0xbf68+0*40+16)= 46;
*((unsigned char *)0xbf68+0*40+17)= 47;
*((unsigned char *)0xbf68+0*40+18)= 48;
*((unsigned char *)0xbf68+0*40+19)= 49;
*((unsigned char *)0xbf68+0*40+20)= 50;
*((unsigned char *)0xbf68+0*40+21)= 51;
*((unsigned char *)0xbf68+0*40+22)= 52;
*((unsigned char *)0xbf68+0*40+23)= 53;
*((unsigned char *)0xbf68+0*40+24)= 54;
*((unsigned char *)0xbf68+0*40+25)= 55;
*((unsigned char *)0xbf68+0*40+26)= 56;
*((unsigned char *)0xbf68+0*40+27)= 57;
*((unsigned char *)0xbf68+0*40+28)= 58;
*((unsigned char *)0xbf68+0*40+29)= 59;
*((unsigned char *)0xbf68+0*40+30)= 60;
*((unsigned char *)0xbf68+0*40+31)= 61;
*((unsigned char *)0xbf68+0*40+32)= 62;
*((unsigned char *)0xbf68+0*40+33)= 63;
*((unsigned char *)0xbf68+0*40+34)= 64;
*((unsigned char *)0xbf68+0*40+35)= 65;
*((unsigned char *)0xbf68+0*40+36)= 66;
*((unsigned char *)0xbf68+0*40+37)= 67;
*((unsigned char *)0xbf68+0*40+38)= 68;
*((unsigned char *)0xbf68+0*40+39)= 69;
// bas visage
    *((unsigned char *)0xbf68+1*40+18)= 70;
    *((unsigned char *)0xbf68+1*40+19)= 71;
    *((unsigned char *)0xbf68+1*40+20)= 72;
    *((unsigned char *)0xbf68+1*40+21)= 73;

    *((unsigned char *)0xbf68+2*40+18)= 74;
    *((unsigned char *)0xbf68+2*40+19)= 75;
    *((unsigned char *)0xbf68+2*40+20)= 76;
    *((unsigned char *)0xbf68+2*40+21)= 77;

    
// bsa gun
    *((unsigned char *)0xbf68+1*40+35)= 78;
    *((unsigned char *)0xbf68+1*40+36)= 79;
    *((unsigned char *)0xbf68+1*40+37)= 80;
    *((unsigned char *)0xbf68+1*40+38)= 81;
    *((unsigned char *)0xbf68+1*40+39)= 82;

    *((unsigned char *)0xbf68+2*40+35)= 83;
    *((unsigned char *)0xbf68+2*40+36)= 84;
    *((unsigned char *)0xbf68+2*40+37)= 85;
    *((unsigned char *)0xbf68+2*40+38)= 86;
    *((unsigned char *)0xbf68+2*40+39)= 87;

// colonne 1
    *((unsigned char *)0xbf68+1*40+7)= 88;
    *((unsigned char *)0xbf68+2*40+7)= 89;
    *((unsigned char *)0xbf68+1*40+8)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+2*40+8)= DOUBLE_STANDARD_CHARSET;

    *((unsigned char *)0xbf68+1*40+9) = '9';
    *((unsigned char *)0xbf68+2*40+9) = '9';
    *((unsigned char *)0xbf68+1*40+10) = '9';
    *((unsigned char *)0xbf68+2*40+10) = '9';
    *((unsigned char *)0xbf68+1*40+11) = '9';
    *((unsigned char *)0xbf68+2*40+11) = '9';

// colonne 2
    *((unsigned char *)0xbf68+1*40+13)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+2*40+13)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+1*40+14)= 90;
    *((unsigned char *)0xbf68+2*40+14)= 91;

    *((unsigned char *)0xbf68+1*40+15)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+2*40+15)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+1*40+16) = '9';
    *((unsigned char *)0xbf68+2*40+16) = '9';
    *((unsigned char *)0xbf68+1*40+17)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+2*40+17)= ALTERNATE_CHARSET;


// colonne 3
    *((unsigned char *)0xbf68+1*40+22)= 92;
    *((unsigned char *)0xbf68+2*40+22)= 93;
    *((unsigned char *)0xbf68+1*40+23)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+2*40+23)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+1*40+24) = '1';
    *((unsigned char *)0xbf68+2*40+24) = '1';
    *((unsigned char *)0xbf68+1*40+25) = '0';
    *((unsigned char *)0xbf68+2*40+25) = '0';
    *((unsigned char *)0xbf68+1*40+26) = '0';
    *((unsigned char *)0xbf68+2*40+26) = '0';

    // *((unsigned char *)0xbf68+1*40+27) = '%';
    // *((unsigned char *)0xbf68+2*40+27) = '%';



// colonne 4
    *((unsigned char *)0xbf68+1*40+27)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+2*40+27)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+1*40+28)= 94;
    *((unsigned char *)0xbf68+2*40+28)= 95;
    *((unsigned char *)0xbf68+1*40+29)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+2*40+29)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+1*40+30) = '9';
    *((unsigned char *)0xbf68+2*40+30) = '9';

    *((unsigned char *)0xbf68+1*40+31) = '9';
    *((unsigned char *)0xbf68+2*40+31) = '9';


    *((unsigned char *)0xbf68+1*40+32)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+2*40+32)= ALTERNATE_CHARSET;


    // *((unsigned char *)0xbf68+0*40+21)= STANDARD_CHARSET;
    // *((unsigned char *)0xbf68+1*40+21)= DOUBLE_STANDARD_CHARSET;
    // *((unsigned char *)0xbf68+2*40+21)= DOUBLE_STANDARD_CHARSET;
    // *((unsigned char *)49022)= 124;
    // *((unsigned char *)49062)= 124;
    // *((unsigned char *)49102)= 124;
    // *((unsigned char *)49023)= 65; // A
    // *((unsigned char *)49024)= 77; // M
    // *((unsigned char *)49025)= 77; // M
    // *((unsigned char *)49026)= 79; // O
    // *((unsigned char *)49065)= 48;
    // *((unsigned char *)49105)= 48;
    // *((unsigned char *)49066)= 48;
    // *((unsigned char *)49106)= 48;
    // *((unsigned char *)49028)= 124;
    // *((unsigned char *)49068)= 124;
    // *((unsigned char *)49108)= 124;
    // *((unsigned char *)49030)= 70;
    // *((unsigned char *)49031)= 76;
    // *((unsigned char *)49032)= 79;
    // *((unsigned char *)49033)= 87;
    // *((unsigned char *)49034)= 69;
    // *((unsigned char *)49035)= 82;
    // *((unsigned char *)49072)= 51;
    // *((unsigned char *)49112)= 51;
    // *((unsigned char *)49036)= 124;
    // *((unsigned char *)49076)= 124;
    // *((unsigned char *)49116)= 124;

}

void bottom_panel() {
change_char(33 , 0x3f, 0x0, 0x31, 0x33, 0x33, 0x33, 0x33, 0x3b);
change_char(34 , 0x3f, 0x0, 0x36, 0x6, 0x26, 0x6, 0x7, 0x37);
change_char(35 , 0x2e, 0x0, 0x27, 0x2c, 0x2e, 0x2c, 0x2c, 0xf);
change_char(36 , 0x1a, 0x0, 0x18, 0x18, 0x18, 0x18, 0x18, 0x1c);
change_char(37 , 0x3f, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20);
change_char(38 , 0x3f, 0x0, 0x3, 0x6, 0x3, 0x1, 0x4, 0x7);
change_char(39 , 0x3f, 0x0, 0x27, 0xc, 0xc, 0x2c, 0x2c, 0x27);
change_char(40 , 0x3f, 0x0, 0xc, 0x1a, 0x1a, 0x1a, 0x1a, 0xc);
change_char(41 , 0x3f, 0x0, 0x38, 0x35, 0x35, 0x39, 0x35, 0x35);
change_char(42 , 0x2e, 0x0, 0x38, 0x20, 0x30, 0x20, 0x20, 0x38);
change_char(43 , 0x1a, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0);
change_char(44 , 0x3f, 0x20, 0x2c, 0x2c, 0x2c, 0x2c, 0x2c, 0x2e);
change_char(45 , 0x3f, 0x0, 0x36, 0x6, 0x36, 0x36, 0x37, 0x37);
change_char(46 , 0x36, 0x0, 0x27, 0x2c, 0x2e, 0x2c, 0x2c, 0xf);
change_char(47 , 0x1a, 0x0, 0xe, 0x18, 0xc, 0x6, 0x12, 0x1e);
change_char(48 , 0x3f, 0x20, 0x20, 0x20, 0x21, 0x21, 0x21, 0x21);
change_char(49 , 0x3f, 0x0, 0x1f, 0x2f, 0x1f, 0x1f, 0x3f, 0x30);
change_char(50 , 0x36, 0x0, 0x3f, 0x37, 0x1b, 0x2e, 0x33, 0x1f);
change_char(51 , 0x1a, 0x0, 0x30, 0x38, 0x38, 0x38, 0x38, 0x10);
change_char(52 , 0x3f, 0x20, 0x21, 0x21, 0x21, 0x21, 0x21, 0x21);
change_char(53 , 0x3f, 0x0, 0x29, 0x2b, 0x2b, 0x3b, 0x2b, 0x2b);
change_char(54 , 0x3f, 0x0, 0x33, 0x6, 0x6, 0x27, 0x6, 0x36);
change_char(55 , 0x3f, 0x0, 0xd, 0x2c, 0x2c, 0x2c, 0x2c, 0x2e);
change_char(56 , 0x3e, 0x0, 0x3b, 0x33, 0x33, 0x33, 0x33, 0x33);
change_char(57 , 0x1a, 0x0, 0x10, 0x10, 0x10, 0x30, 0x10, 0x10);
change_char(58 , 0x3f, 0x20, 0x23, 0x26, 0x26, 0x27, 0x26, 0x26);
change_char(59 , 0x3f, 0x0, 0x6, 0x2d, 0x2d, 0x2d, 0x2d, 0x2d);
change_char(60 , 0x3f, 0x0, 0x23, 0x16, 0x16, 0x16, 0x16, 0x16);
change_char(61 , 0x3d, 0x0, 0x11, 0x2b, 0x2b, 0x2b, 0x2b, 0x29);
change_char(62 , 0x2b, 0x2, 0x22, 0x12, 0x12, 0x12, 0x12, 0x22);
change_char(63 , 0x3f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0);
change_char(64 , 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x0);
change_char(65 , 0x20, 0x20, 0x20, 0x0, 0x0, 0x20, 0x0, 0x20);
change_char(66 , 0x21, 0x21, 0x22, 0x22, 0x22, 0x22, 0x21, 0x0);
change_char(67 , 0x2f, 0x30, 0x3f, 0x39, 0x3b, 0x3f, 0x3e, 0x3f);
change_char(68 , 0xf, 0x30, 0xf, 0x39, 0x3b, 0x3f, 0x37, 0xf);
change_char(69 , 0x10, 0x38, 0x34, 0x34, 0x34, 0x34, 0x38, 0x30);
change_char(70 , 0x3f, 0x38, 0x3f, 0x1f, 0x1f, 0x3, 0x0, 0x0);
change_char(71 , 0x3f, 0x1, 0x3f, 0x3f, 0x3f, 0x3c, 0x0, 0x0);
change_char(72 , 0x30, 0x30, 0x30, 0x30, 0x20, 0x0, 0x0, 0x0);
change_char(73 , 0x20, 0x20, 0x0, 0x0, 0x20, 0x20, 0x0, 0x20);
change_char(74 , 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20);
change_char(75 , 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2);
change_char(76 , 0x0, 0x1, 0x0, 0x1, 0x1, 0x0, 0x1, 0x0);
change_char(77 , 0x0, 0x3f, 0x1, 0x3f, 0x3f, 0x1, 0x3f, 0x1);
change_char(78 , 0x0, 0x3f, 0x27, 0x3f, 0x3f, 0x27, 0x3f, 0x27);
change_char(79 , 0x0, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f);
change_char(80 , 0x0, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x38);
change_char(81 , 0x0, 0x3e, 0x3e, 0x3e, 0x3e, 0x3e, 0x3e, 0x1e);
change_char(82 , 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0);
change_char(83 , 0x3, 0x3, 0x3, 0x3, 0x7, 0x7, 0x0, 0x0);
change_char(84 , 0x3e, 0x3e, 0x3c, 0x3c, 0x3c, 0x3c, 0x0, 0x0);
change_char(85 , 0x1e, 0x1e, 0xe, 0xe, 0xe, 0xe, 0x0, 0x0);


*((unsigned char *)0xbf68+0*40+3)=33;
*((unsigned char *)0xbf68+0*40+4)=34;
*((unsigned char *)0xbf68+0*40+5)=35;
*((unsigned char *)0xbf68+0*40+6)=36;
*((unsigned char *)0xbf68+0*40+7)=37;
*((unsigned char *)0xbf68+0*40+8)=38;
*((unsigned char *)0xbf68+0*40+9)=39;
*((unsigned char *)0xbf68+0*40+10)=40;
*((unsigned char *)0xbf68+0*40+11)=41;
*((unsigned char *)0xbf68+0*40+12)=42;
*((unsigned char *)0xbf68+0*40+13)=43;
*((unsigned char *)0xbf68+0*40+14)=44;
*((unsigned char *)0xbf68+0*40+15)=45;
*((unsigned char *)0xbf68+0*40+16)=46;
*((unsigned char *)0xbf68+0*40+17)=47;
*((unsigned char *)0xbf68+0*40+18)=48;
*((unsigned char *)0xbf68+0*40+19)=49;
*((unsigned char *)0xbf68+0*40+20)=50;
*((unsigned char *)0xbf68+0*40+21)=51;
*((unsigned char *)0xbf68+0*40+22)=52;
*((unsigned char *)0xbf68+0*40+23)=53;
*((unsigned char *)0xbf68+0*40+24)=54;
*((unsigned char *)0xbf68+0*40+25)=55;
*((unsigned char *)0xbf68+0*40+26)=56;
*((unsigned char *)0xbf68+0*40+27)=57;
*((unsigned char *)0xbf68+0*40+28)=58;
*((unsigned char *)0xbf68+0*40+29)=59;
*((unsigned char *)0xbf68+0*40+30)=60;
*((unsigned char *)0xbf68+0*40+31)=61;
*((unsigned char *)0xbf68+0*40+32)=62;
*((unsigned char *)0xbf68+0*40+33)=63;
*((unsigned char *)0xbf68+0*40+34)=63;
*((unsigned char *)0xbf68+0*40+35)=63;
*((unsigned char *)0xbf68+0*40+36)=63;
*((unsigned char *)0xbf68+0*40+37)=63;
*((unsigned char *)0xbf68+0*40+38)=63;
*((unsigned char *)0xbf68+0*40+39)=63;
*((unsigned char *)0xbf68+1*40+7)=64;
*((unsigned char *)0xbf68+2*40+7)=65;
*((unsigned char *)0xbf68+1*40+14)=64;
*((unsigned char *)0xbf68+2*40+14)=65;
*((unsigned char *)0xbf68+1*40+18)=66;
*((unsigned char *)0xbf68+1*40+19)=67;
*((unsigned char *)0xbf68+1*40+20)=68;
*((unsigned char *)0xbf68+1*40+21)=69;
*((unsigned char *)0xbf68+1*40+22)=64;
*((unsigned char *)0xbf68+2*40+18)=65;
*((unsigned char *)0xbf68+2*40+19)=70;
*((unsigned char *)0xbf68+2*40+20)=71;
*((unsigned char *)0xbf68+2*40+21)=72;
*((unsigned char *)0xbf68+2*40+22)=73;
*((unsigned char *)0xbf68+1*40+28)=74;
*((unsigned char *)0xbf68+2*40+28)=74;
*((unsigned char *)0xbf68+1*40+32)=75;
*((unsigned char *)0xbf68+1*40+33)=76;
*((unsigned char *)0xbf68+1*40+34)=77;
*((unsigned char *)0xbf68+1*40+35)=78;
*((unsigned char *)0xbf68+1*40+36)=79;
*((unsigned char *)0xbf68+1*40+37)=80;
*((unsigned char *)0xbf68+1*40+38)=81;
*((unsigned char *)0xbf68+1*40+39)=82;
*((unsigned char *)0xbf68+2*40+32)=75;
*((unsigned char *)0xbf68+2*40+33)=82;
*((unsigned char *)0xbf68+2*40+34)=82;
*((unsigned char *)0xbf68+2*40+35)=83;
*((unsigned char *)0xbf68+2*40+36)=84;
*((unsigned char *)0xbf68+2*40+37)=82;
*((unsigned char *)0xbf68+2*40+38)=85;
*((unsigned char *)0xbf68+2*40+39)=82;

}
int mode0;
void main(){

//     paper(0); ink(7);

    // Deactivate cursor and keyclick
    mode0 = *((unsigned char *)0x26A);
    *((unsigned char *)0x26A) = (mode0 | 0x08) & 0xFE;
    hires();
    ink(7);
    paper(4);


    *((unsigned char *)0xbf68+0*40+0)= PAPER_BLUE;
    *((unsigned char *)0xbf68+1*40+0)= PAPER_BLUE;
    *((unsigned char *)0xbf68+2*40+0)= PAPER_BLUE;
    *((unsigned char *)0xbf68+0*40+1)= INK_YELLOW;
    *((unsigned char *)0xbf68+1*40+1)= INK_WHITE;
    *((unsigned char *)0xbf68+2*40+1)= INK_WHITE;
    *((unsigned char *)0xbf68+0*40+2)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+1*40+2)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+2*40+2)= ALTERNATE_CHARSET;


    bottom_panel();

    *((unsigned char *)0xbf68+1*40+4)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+2*40+4)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+1*40+5) = '9';
    *((unsigned char *)0xbf68+2*40+5) = '9';
    *((unsigned char *)0xbf68+1*40+6)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+2*40+6)= ALTERNATE_CHARSET;

    *((unsigned char *)0xbf68+1*40+8)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+2*40+8)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+1*40+9) = '9';
    *((unsigned char *)0xbf68+2*40+9) = '9';
    *((unsigned char *)0xbf68+1*40+10) = '9';
    *((unsigned char *)0xbf68+2*40+10) = '9';
    *((unsigned char *)0xbf68+1*40+11) = '9';
    *((unsigned char *)0xbf68+2*40+11) = '9';
    *((unsigned char *)0xbf68+1*40+13)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+2*40+13)= ALTERNATE_CHARSET;

    *((unsigned char *)0xbf68+1*40+15)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+2*40+15)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+1*40+16) = '9';
    *((unsigned char *)0xbf68+2*40+16) = '9';
    *((unsigned char *)0xbf68+1*40+17)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+2*40+17)= ALTERNATE_CHARSET;

    *((unsigned char *)0xbf68+1*40+23)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+2*40+23)= DOUBLE_STANDARD_CHARSET;
    *((unsigned char *)0xbf68+1*40+24) = '1';
    *((unsigned char *)0xbf68+2*40+24) = '1';
    *((unsigned char *)0xbf68+1*40+25) = '0';
    *((unsigned char *)0xbf68+2*40+25) = '0';
    *((unsigned char *)0xbf68+1*40+26) = '0';
    *((unsigned char *)0xbf68+2*40+26) = '0';
    *((unsigned char *)0xbf68+1*40+27)= ALTERNATE_CHARSET;
    *((unsigned char *)0xbf68+2*40+27)= ALTERNATE_CHARSET;


//     myHires();
//     poke(0xBF68, 16); poke(0xBF69, 7);
//     poke(0xBF90, 16); poke(0xBF91, 7);
//     poke(0xBFB8, 16); poke(0xBFB9, 7);
//     poke(0x26A, (mode0 | 0x08) & 0xFE);
    waitkey();
//     text();
    

    // Reactivate cursor and keyclick
    *((unsigned char *)0x26A) = mode0;

}


